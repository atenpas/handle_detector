<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Handle Detector: src/cylindrical_shell.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Handle Detector
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">ROS package to localize handles</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">src/cylindrical_shell.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef CYLINDRICAL_SHELL_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define CYLINDRICAL_SHELL_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;Eigen/Dense&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;pcl/kdtree/kdtree_flann.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;pcl_ros/point_cloud.h&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;pcl/search/organized.h&gt;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">typedef</span> pcl::PointCloud&lt;pcl::PointXYZ&gt; PointCloud;
<a name="l00010"></a>00010 
<a name="l00018"></a><a class="code" href="class_cylindrical_shell.html">00018</a> <span class="keyword">class </span><a class="code" href="class_cylindrical_shell.html" title="CylindricalShell represents a cylindrical shell that consists of two colinear cylinders. A shell consists of an inner and an outer cylinder. The portion of the object to be grasped must fit inside the inner cylinder, and the radius of that cylinder must be no larger than the maximum hand aperture. The gap between the inner and outer cylinder must be free of obstacles and wide enough to be able to contain the robot fingers.">CylindricalShell</a>
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020   <span class="keyword">public</span>:
<a name="l00021"></a>00021     
<a name="l00030"></a>00030     <span class="keywordtype">void</span> 
<a name="l00031"></a>00031     <a class="code" href="class_cylindrical_shell.html#a7077f354605189042d2c52bf00627bf3" title="Fit a cylinder to a set of points in the cloud, using their indices, and the normal and the curvature...">fitCylinder</a>(<span class="keyword">const</span> PointCloud::Ptr &amp;cloud, <span class="keyword">const</span> std::vector&lt;int&gt; &amp;indices, 
<a name="l00032"></a>00032                     <span class="keyword">const</span> Eigen::Vector3d &amp;normal, <span class="keyword">const</span> Eigen::Vector3d &amp;curvature_axis);
<a name="l00033"></a>00033     
<a name="l00040"></a>00040     <span class="keywordtype">bool</span> 
<a name="l00041"></a>00041     <a class="code" href="class_cylindrical_shell.html#abaa7b040007f1687c17e6e5ed7b0b99f" title="Check whether the gap between the inner and outer cylinder of the shell is free of obstacles and wide...">hasClearance</a>(<span class="keyword">const</span> PointCloud::Ptr &amp;cloud, <span class="keywordtype">double</span> maxHandAperture, <span class="keywordtype">double</span> handleGap);
<a name="l00042"></a>00042     
<a name="l00045"></a>00045     <span class="keyword">inline</span> <span class="keywordtype">double</span> 
<a name="l00046"></a><a class="code" href="class_cylindrical_shell.html#ada07b98bb7ff4e8f9051db282404d03c">00046</a>     <a class="code" href="class_cylindrical_shell.html#ada07b98bb7ff4e8f9051db282404d03c" title="Get the extent of the cylindrical shell.">getExtent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;extent; };
<a name="l00047"></a>00047     
<a name="l00051"></a>00051     <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00052"></a><a class="code" href="class_cylindrical_shell.html#a1591a913744c2600787cf3d48511ba7a">00052</a>     <a class="code" href="class_cylindrical_shell.html#a1591a913744c2600787cf3d48511ba7a" title="Set the extent of the cylindrical shell.">setExtent</a>(<span class="keywordtype">double</span> extent) { this-&gt;extent = extent; };
<a name="l00053"></a>00053     
<a name="l00056"></a>00056     <span class="keyword">inline</span> <span class="keywordtype">double</span> 
<a name="l00057"></a><a class="code" href="class_cylindrical_shell.html#a0852af3d18aa035cefe9e9d138a73ce1">00057</a>     <a class="code" href="class_cylindrical_shell.html#a0852af3d18aa035cefe9e9d138a73ce1" title="Get the radius of the cylindrical shell.">getRadius</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;radius; };
<a name="l00058"></a>00058     
<a name="l00062"></a>00062     <span class="keyword">inline</span> <span class="keywordtype">int</span> 
<a name="l00063"></a><a class="code" href="class_cylindrical_shell.html#a782ef84cc6043412d3e0d63f175c66bd">00063</a>     <a class="code" href="class_cylindrical_shell.html#a782ef84cc6043412d3e0d63f175c66bd" title="Get the index of the centroid of the neighborhood associated with the cylindrical shell...">getNeighborhoodCentroidIndex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;neighborhood_centroid_index; };
<a name="l00064"></a>00064     
<a name="l00069"></a>00069     <span class="keyword">inline</span> <span class="keywordtype">void</span> 
<a name="l00070"></a><a class="code" href="class_cylindrical_shell.html#a39b7b040c3a8442a0624d41f497d3613">00070</a>     <a class="code" href="class_cylindrical_shell.html#a39b7b040c3a8442a0624d41f497d3613" title="Set the index of the centroid of the neighborhood associated with the cylindrical shell...">setNeighborhoodCentroidIndex</a>(<span class="keywordtype">int</span> index) { this-&gt;neighborhood_centroid_index = index; };
<a name="l00071"></a>00071     
<a name="l00074"></a>00074     <span class="keyword">inline</span> Eigen::Vector3d 
<a name="l00075"></a><a class="code" href="class_cylindrical_shell.html#aa095b50d21504cae0b5afa44847f70b5">00075</a>     <a class="code" href="class_cylindrical_shell.html#aa095b50d21504cae0b5afa44847f70b5" title="Get the centroid of the cylindrical shell.">getCentroid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;centroid; };
<a name="l00076"></a>00076     
<a name="l00079"></a>00079     <span class="keyword">inline</span> Eigen::Vector3d 
<a name="l00080"></a><a class="code" href="class_cylindrical_shell.html#a66a926117386cd8efefa593557d43cef">00080</a>     <a class="code" href="class_cylindrical_shell.html#a66a926117386cd8efefa593557d43cef" title="Get the curvature axis of the cylindrical shell.">getCurvatureAxis</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;curvature_axis; };
<a name="l00081"></a>00081     
<a name="l00084"></a>00084     <span class="keyword">inline</span> Eigen::Vector3d 
<a name="l00085"></a><a class="code" href="class_cylindrical_shell.html#ab9be24ceb420724bff03824ea28d27fd">00085</a>     <a class="code" href="class_cylindrical_shell.html#ab9be24ceb420724bff03824ea28d27fd" title="Get the normal axis of the cylindrical shell.">getNormal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;normal; };
<a name="l00086"></a>00086   
<a name="l00087"></a>00087   
<a name="l00088"></a>00088   <span class="keyword">private</span>:
<a name="l00089"></a>00089   
<a name="l00090"></a>00090     Eigen::Vector3d centroid;
<a name="l00091"></a>00091     Eigen::Vector3d curvature_axis;
<a name="l00092"></a>00092     <span class="keywordtype">double</span> extent;
<a name="l00093"></a>00093     <span class="keywordtype">double</span> radius;
<a name="l00094"></a>00094     Eigen::Vector3d normal;
<a name="l00095"></a>00095     <span class="keywordtype">int</span> neighborhood_centroid_index;
<a name="l00096"></a>00096 };
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 3 2014 15:51:22 for Handle Detector by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
